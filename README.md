# DAW (音楽制作ソフト)

## 概要
3つの楽器(ドラム・ベース・シンセサイザー)を自由に打ち込んで曲を制作できる DAW（Digital Audio Workstation）を作成しました。

初心者でも直感的に作曲ができるように、機能を多く盛り込まずシンプルに実装しました。
実装した主な機能は以下になります。

## 機能一覧
- 楽曲制作画面
  - 打ち込める音域は2オクターブ、範囲は2小節のみ
  - ドラムはキック、スネア、ハイハット、シェイカー、クラッシュの5つの音色のみ
  - ベースとシンセは4種類の波形から選択可能
  - 制作途中の曲を再生可能
  - タイトルもつけることができる
  - 気に入らなかったら打ち込んだデータをリセットできる
  - 保存ボタンを押すと、APIを通じてデータを保存。その後一覧画面で確認可能
- 作成した曲の一覧画面
  - 各曲のタイトルと再生/停止ボタン、編集・削除ボタンを表示
  - 編集ボタンを押すと楽曲制作画面に遷移し、打ち込んだデータを編集可能
  - 削除ボタンを押すと確認ダイアログが表示され、削除を実行

## ディレクトリ構成と技術スタック

### `api` ディレクトリ（バックエンド）

- Python 3.10
- FastAPI（APIフレームワーク）
  - API 側は CRUD 操作のみのシンプルな実装なため、小規模向けのフレームワークとして選定
  - また個人的に TypeScript を扱うことが多かったため、Python に関しての知見をより深めてみたいという理由もあった
- Uvicorn（ASGIサーバー）
- pytest（ユニットテスト）
- Flake8（リンター）
- Black（コードフォーマッタ）

### `gui` ディレクトリ（フロントエンド）
- TypeScript
- Vue 3
  - 業務での使用経験もありフレームワークの中で一番得意であるため選定
- Tone.js（音源生成ライブラリ）
  - 音源の生成や再生で使用
- Vite（ビルドツール）
- Vitest（ユニットテスト）
- @vue/test-utils（コンポーネントテスト）
- ESLint (リンター)
- Prettier（コードフォーマッタ）

### 画像・音源について
- 画像
  - 基本的には Iconify（アイコンライブラリ）を使用
    - ドラムのアイコン画像のみ Iconify になかったため ChatGPT に生成してもらった
- 音源
  - ベース・シンセ
    - Tone.js
  - ドラム
    - Serum (ソフトシンセ) を使用して自作
      - 自分で作れば著作権に関しての問題がないため

## 起動方法

### バックエンド（APIサーバー）の起動

プロジェクトルートで：

```bash
uvicorn main:app --reload
```
もしくは api ディレクトリで：
```bash
PYTHONPATH=.. uvicorn main:app --reload
```

### フロントエンド（GUI）の起動
プロジェクトルートで：

gui ディレクトリで：

```bash
npm install
npm run dev
```

## デモ
実際にローカルで起動した際の動作をこちらに添付いたします。

## 楽曲制作画面
それぞれの楽器の打ち込みグリッドを表示
セルに打ち込んだら対応する音が鳴る
音色を変更したら反映された状態で音が鳴る